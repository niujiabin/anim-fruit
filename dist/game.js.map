{
  "version": 3,
  "sources": ["../build.ts", "../JavaScripts/DefaultUI.ts"],
  "sourcesContent": ["import * as foreign0 from './build';\nimport * as foreign1 from './JavaScripts/DefaultUI'; \n\n    export const MWModuleMap = { \n         'build': foreign0,\n\n        'JavaScripts/DefaultUI': foreign1,\n \n\n    };\n    ", "\uFEFF@UI.UICallOnly('')\r\nexport default class UIDefault extends UI.UIBehavior {\r\n\tCharacter: Gameplay.Character;\r\n\t/* \u89E3\u6790\u8D44\u6E90ID\u5217\u8868 */\r\n    private resolveString(assetIds: string): string[] {\r\n        let assetIdArray: string[] = new Array<string>();\r\n        let assetId: string = \"\";\r\n        let s = assetIds.split(\"\");\r\n        for (let a of s) {\r\n            if (a == \",\") {\r\n                assetIdArray.push(assetId);\r\n                assetId = \"\";\r\n            } else {\r\n                assetId += a;\r\n            }\r\n        }\r\n        if (assetId) {\r\n            assetIdArray.push(assetId);\r\n        }\r\n        return assetIdArray;\r\n    }\r\n\r\n\t/* \u521D\u59CB\u5316\u8D44\u6E90 */\r\n\tprivate initAssets(assetIds: string): void {\r\n\t\tlet assetIdArray = this.resolveString(assetIds);\r\n\t\tfor (let element of assetIdArray) {\r\n\t\t\tUtil.AssetUtil.asyncDownloadAsset(element).then((value: boolean) => {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tUtil.AssetUtil.loadAsset(element);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/** \u4EC5\u5728\u6E38\u620F\u65F6\u95F4\u5BF9\u975E\u6A21\u677F\u5B9E\u4F8B\u8C03\u7528\u4E00\u6B21 */\r\n    protected onStart() {\r\n\t\t//\u521D\u59CB\u5316\u52A8\u753B\u8D44\u6E90 \r\n\t\tthis.initAssets(\"95777,61245\")\r\n\t\t//\u8BBE\u7F6E\u80FD\u5426\u6BCF\u5E27\u89E6\u53D1onUpdate\r\n\t\tthis.canUpdate = false;\r\n\t\t\r\n\t\t//\u627E\u5230\u5BF9\u5E94\u7684\u8DF3\u8DC3\u6309\u94AE\r\n        const JumpBtn = this.uiWidgetBase.findChildByPath('RootCanvas/Button_Jump') as UI.Button\r\n\t\tconst AttackBtn = this.uiWidgetBase.findChildByPath('RootCanvas/Button_Attack') as UI.Button\r\n\t\tconst InteractBtn = this.uiWidgetBase.findChildByPath('RootCanvas/Button_Interact') as UI.Button\r\n\t\t\r\n\t\t//\u70B9\u51FB\u8DF3\u8DC3\u6309\u94AE,\u5F02\u6B65\u83B7\u53D6\u4EBA\u7269\u540E\u6267\u884C\u8DF3\u8DC3\r\n        JumpBtn.onPressed.add(()=>{\r\n\t\t\tif (this.Character) {\r\n\t\t\t\tthis.Character.jump();\r\n\t\t\t} else {\r\n\t\t\t\tGameplay.asyncGetCurrentPlayer().then((player) => {\r\n\t\t\t\t\tthis.Character = player.character;\r\n\t\t\t\t\t//\u89D2\u8272\u6267\u884C\u8DF3\u8DC3\u529F\u80FD\r\n\t\t\t\t\tthis.Character.jump();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\t\r\n\r\n\t\t//\u70B9\u51FB\u653B\u51FB\u6309\u94AE,\u5F02\u6B65\u83B7\u53D6\u4EBA\u7269\u540E\u6267\u884C\u653B\u51FB\u52A8\u4F5C\r\n        AttackBtn.onPressed.add(()=>{\r\n\t\t\t\tGameplay.asyncGetCurrentPlayer().then((player) => {\r\n\t\t\t\t\tthis.Character = player.character;\r\n\t\t\t\t\t//\u8BA9\u52A8\u753B\u53EA\u5728\u4E0A\u534A\u8EAB\u64AD\u653E\r\n\t\t\t\t\tlet anim1 = player.character.loadAnimation(\"61245\");\r\n\t\t\t\t\tanim1.slot = Gameplay.AnimSlot.Upper;\r\n\t\t\t\t\t//\u89D2\u8272\u6267\u884C\u653B\u51FB\u52A8\u4F5C\r\n\t\t\t\t\tif(anim1.isPlaying){\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tanim1.play();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t})\t\r\n\r\n\t\t//\u70B9\u51FB\u4EA4\u4E92\u6309\u94AE,\u5F02\u6B65\u83B7\u53D6\u4EBA\u7269\u540E\u6267\u884C\u4EA4\u4E92\u52A8\u4F5C\r\n        InteractBtn.onPressed.add(()=>{\r\n\t\t\t\tGameplay.asyncGetCurrentPlayer().then((player) => {\r\n\t\t\t\t\tthis.Character = player.character;\r\n\t\t\t\t\t//\u8BA9\u52A8\u753B\u53EA\u5728\u4E0A\u534A\u8EAB\u64AD\u653E\r\n\t\t\t\t\tlet anim2 = player.character.loadAnimation(\"95777\");\r\n\t\t\t\t\tanim2.slot = Gameplay.AnimSlot.Upper;\r\n\t\t\t\t\t//\u89D2\u8272\u6267\u884C\u4EA4\u4E92\u52A8\u4F5C\r\n\t\t\t\t\tif(anim2.isPlaying){\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tanim2.play();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t})\t\r\n\t\t\r\n    }\r\n\r\n\t/** \r\n\t * \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0ConStart\u4E4B\u540E \r\n\t * \u5BF9\u4E8EUI\u7684\u6839\u8282\u70B9\u7684\u6DFB\u52A0\u64CD\u4F5C\uFF0C\u8FDB\u884C\u8C03\u7528\r\n\t * \u6CE8\u610F\uFF1A\u8BE5\u4E8B\u4EF6\u53EF\u80FD\u4F1A\u591A\u6B21\u8C03\u7528\r\n\t */\r\n\tprotected onAdded() {\r\n\t}\r\n\r\n\t/** \r\n\t * \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0ConAdded\u4E4B\u540E\r\n\t * \u5BF9\u4E8EUI\u7684\u6839\u8282\u70B9\u7684\u79FB\u9664\u64CD\u4F5C\uFF0C\u8FDB\u884C\u8C03\u7528\r\n\t * \u6CE8\u610F\uFF1A\u8BE5\u4E8B\u4EF6\u53EF\u80FD\u4F1A\u591A\u6B21\u8C03\u7528\r\n\t */\r\n\tprotected onRemoved() {\r\n\t}\r\n\r\n\t/** \r\n\t* \u6784\u9020UI\u6587\u4EF6\u6210\u529F\u540E\uFF0CUI\u5BF9\u8C61\u518D\u88AB\u9500\u6BC1\u65F6\u8C03\u7528 \r\n\t* \u6CE8\u610F\uFF1A\u8FD9\u4E4B\u540EUI\u5BF9\u8C61\u5DF2\u7ECF\u88AB\u9500\u6BC1\u4E86\uFF0C\u9700\u8981\u79FB\u9664\u6240\u6709\u5BF9\u8BE5\u6587\u4EF6\u548CUI\u76F8\u5173\u5BF9\u8C61\u4EE5\u53CA\u5B50\u5BF9\u8C61\u7684\u5F15\u7528\r\n\t*/\r\n\tprotected onDestroy() {\r\n\t}\r\n\r\n\t/**\r\n\t* \u6BCF\u4E00\u5E27\u8C03\u7528\r\n\t* \u901A\u8FC7canUpdate\u53EF\u4EE5\u5F00\u542F\u5173\u95ED\u8C03\u7528\r\n\t* dt \u4E24\u5E27\u8C03\u7528\u7684\u65F6\u95F4\u5DEE\uFF0C\u6BEB\u79D2\r\n\t*/\r\n\t//protected onUpdate(dt :number) {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6E\u663E\u793A\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onShow(...params:any[]) {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6E\u4E0D\u663E\u793A\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onHide() {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u5F53\u8FD9\u4E2AUI\u754C\u9762\u662F\u53EF\u4EE5\u63A5\u6536\u4E8B\u4EF6\u7684\u65F6\u5019\r\n\t * \u624B\u6307\u6216\u5219\u9F20\u6807\u89E6\u53D1\u4E00\u6B21Touch\u65F6\u89E6\u53D1\r\n\t * \u8FD4\u56DE\u4E8B\u4EF6\u662F\u5426\u5904\u7406\u4E86\r\n\t * \u5982\u679C\u5904\u7406\u4E86\uFF0C\u90A3\u4E48\u8FD9\u4E2AUI\u754C\u9762\u53EF\u4EE5\u63A5\u6536\u8FD9\u6B21Touch\u540E\u7EED\u7684Move\u548CEnd\u4E8B\u4EF6\r\n\t * \u5982\u679C\u6CA1\u6709\u5904\u7406\uFF0C\u90A3\u4E48\u8FD9\u4E2AUI\u754C\u9762\u5C31\u65E0\u6CD5\u63A5\u6536\u8FD9\u6B21Touch\u540E\u7EED\u7684Move\u548CEnd\u4E8B\u4EF6\r\n\t */\r\n\t//protected onTouchStarted(InGemotry :UI.Geometry,InPointerEvent:UI.PointerEvent) :UI.EventReply{\r\n\t//\treturn UI.EventReply.unHandled; //UI.EventReply.handled\r\n\t//}\r\n\r\n\t/**\r\n\t * \u624B\u6307\u6216\u5219\u9F20\u6807\u518DUI\u754C\u9762\u4E0A\u79FB\u52A8\u65F6\r\n\t */\r\n\t//protected onTouchMoved(InGemotry :UI.Geometry,InPointerEvent:UI.PointerEvent) :UI.EventReply{\r\n\t//\treturn UI.EventReply.unHandled; //UI.EventReply.handled\r\n\t//}\r\n\r\n\t/**\r\n\t * \u624B\u6307\u6216\u5219\u9F20\u6807\u79BB\u5F00UI\u754C\u9762\u65F6\r\n\t */\r\n\t//protected OnTouchEnded(InGemotry :UI.Geometry,InPointerEvent:UI.PointerEvent) :UI.EventReply{\r\n\t//\treturn UI.EventReply.unHandled; //UI.EventReply.handled\r\n\t//}\r\n\r\n\t/**\r\n\t * \u5F53\u5728UI\u754C\u9762\u4E0A\u8C03\u7528detectDrag/detectDragIfPressed\u65F6\u89E6\u53D1\u4E00\u6B21\r\n\t * \u53EF\u4EE5\u89E6\u53D1\u4E00\u6B21\u62D6\u62FD\u4E8B\u4EF6\u7684\u5F00\u59CB\u751F\u6210\r\n\t * \u8FD4\u56DE\u4E00\u6B21\u751F\u6210\u7684\u62D6\u62FD\u4E8B\u4EF6 newDragDrop\u53EF\u4EE5\u751F\u6210\u4E00\u6B21\u4E8B\u4EF6\r\n\t */\r\n\t//protected onDragDetected(InGemotry :UI.Geometry,InPointerEvent:UI.PointerEvent):UI.DragDropOperation {\r\n\t//\treturn this.newDragDrop(null);\r\n\t//}\r\n\r\n\t/**\r\n\t * \u62D6\u62FD\u64CD\u4F5C\u751F\u6210\u4E8B\u4EF6\u89E6\u53D1\u540E\u7ECF\u8FC7\u8FD9\u4E2AUI\u65F6\u89E6\u53D1\r\n\t * \u8FD4\u56DEtrue\u7684\u8BDD\u8868\u793A\u5904\u7406\u4E86\u8FD9\u6B21\u4E8B\u4EF6\uFF0C\u4E0D\u4F1A\u518D\u5F80\u8FD9\u4E2AUI\u7684\u4E0B\u4E00\u5C42\u7684UI\u7EE7\u7EED\u5192\u6CE1\u8FD9\u4E2A\u4E8B\u4EF6\r\n\t */\r\n\t//protected onDragOver(InGemotry :UI.Geometry,InDragDropEvent:UI.PointerEvent,InDragDropOperation:UI.DragDropOperation):boolean {\r\n\t//\treturn true;\r\n\t//}\r\n\r\n\t/**\r\n\t * \u62D6\u62FD\u64CD\u4F5C\u751F\u6210\u4E8B\u4EF6\u89E6\u53D1\u540E\u5728\u8FD9\u4E2AUI\u91CA\u653E\u5B8C\u6210\u65F6\r\n\t * \u8FD4\u56DEtrue\u7684\u8BDD\u8868\u793A\u5904\u7406\u4E86\u8FD9\u6B21\u4E8B\u4EF6\uFF0C\u4E0D\u4F1A\u518D\u5F80\u8FD9\u4E2AUI\u7684\u4E0B\u4E00\u5C42\u7684UI\u7EE7\u7EED\u5192\u6CE1\u8FD9\u4E2A\u4E8B\u4EF6\r\n\t */\r\n\t//protected onDrop(InGemotry :UI.Geometry,InDragDropEvent:UI.PointerEvent,InDragDropOperation:UI.DragDropOperation):boolean {\r\n\t//\treturn true;\r\n\t//}\r\n\r\n\t/**\r\n\t * \u62D6\u62FD\u64CD\u4F5C\u751F\u6210\u4E8B\u4EF6\u89E6\u53D1\u540E\u8FDB\u5165\u8FD9\u4E2AUI\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onDragEnter(InGemotry :UI.Geometry,InDragDropEvent:UI.PointerEvent,InDragDropOperation:UI.DragDropOperation) {\r\n\t//}\r\n\r\n\t/**\r\n\t * \u62D6\u62FD\u64CD\u4F5C\u751F\u6210\u4E8B\u4EF6\u89E6\u53D1\u540E\u79BB\u5F00\u8FD9\u4E2AUI\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onDragLeave(InGemotry :UI.Geometry,InDragDropEvent:UI.PointerEvent) {\r\n\t//}\r\n\t\r\n\t/**\r\n\t * \u62D6\u62FD\u64CD\u4F5C\u751F\u6210\u4E8B\u4EF6\u89E6\u53D1\u540E\uFF0C\u6CA1\u6709\u5B8C\u6210\u5B8C\u6210\u7684\u62D6\u62FD\u4E8B\u4EF6\u800C\u53D6\u6D88\u65F6\u89E6\u53D1\r\n\t */\r\n\t//protected onDragCancelled(InGemotry :UI.Geometry,InDragDropEvent:UI.PointerEvent) {\r\n\t//}\r\n\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AACA,8BAAuC,GAAG,WAAW;AAAA,EACpD;AAAA,EAEW,cAAc,UAA4B;AAC9C,QAAI,eAAyB,IAAI,MAAc;AAC/C,QAAI,UAAkB;AACtB,QAAI,IAAI,SAAS,MAAM,EAAE;AACzB,aAAS,KAAK,GAAG;AACb,UAAI,KAAK,KAAK;AACV,qBAAa,KAAK,OAAO;AACzB,kBAAU;AAAA,MACd,OAAO;AACH,mBAAW;AAAA,MACf;AAAA,IACJ;AACA,QAAI,SAAS;AACT,mBAAa,KAAK,OAAO;AAAA,IAC7B;AACA,WAAO;AAAA,EACX;AAAA,EAGK,WAAW,UAAwB;AAC1C,QAAI,eAAe,KAAK,cAAc,QAAQ;AAC9C,aAAS,WAAW,cAAc;AACjC,WAAK,UAAU,mBAAmB,OAAO,EAAE,KAAK,CAAC,UAAmB;AACnE,YAAI,OAAO;AACV,eAAK,UAAU,UAAU,OAAO;AAAA,QACjC;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAIa,UAAU;AAEtB,SAAK,WAAW,aAAa;AAE7B,SAAK,YAAY;AAGX,UAAM,UAAU,KAAK,aAAa,gBAAgB,wBAAwB;AAChF,UAAM,YAAY,KAAK,aAAa,gBAAgB,0BAA0B;AAC9E,UAAM,cAAc,KAAK,aAAa,gBAAgB,4BAA4B;AAG5E,YAAQ,UAAU,IAAI,MAAI;AAC/B,UAAI,KAAK,WAAW;AACnB,aAAK,UAAU,KAAK;AAAA,MACrB,OAAO;AACN,iBAAS,sBAAsB,EAAE,KAAK,CAAC,WAAW;AACjD,eAAK,YAAY,OAAO;AAExB,eAAK,UAAU,KAAK;AAAA,QACrB,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AAGK,cAAU,UAAU,IAAI,MAAI;AAChC,eAAS,sBAAsB,EAAE,KAAK,CAAC,WAAW;AACjD,aAAK,YAAY,OAAO;AAExB,YAAI,QAAQ,OAAO,UAAU,cAAc,OAAO;AAClD,cAAM,OAAO,SAAS,SAAS;AAE/B,YAAG,MAAM,WAAU;AAClB;AAAA,QACD,OAAK;AACJ,gBAAM,KAAK;AAAA,QACZ;AAAA,MACD,CAAC;AAAA,IACH,CAAC;AAGK,gBAAY,UAAU,IAAI,MAAI;AAClC,eAAS,sBAAsB,EAAE,KAAK,CAAC,WAAW;AACjD,aAAK,YAAY,OAAO;AAExB,YAAI,QAAQ,OAAO,UAAU,cAAc,OAAO;AAClD,cAAM,OAAO,SAAS,SAAS;AAE/B,YAAG,MAAM,WAAU;AAClB;AAAA,QACD,OAAK;AACJ,gBAAM,KAAK;AAAA,QACZ;AAAA,MACD,CAAC;AAAA,IAEH,CAAC;AAAA,EAEC;AAAA,EAOO,UAAU;AAAA,EACpB;AAAA,EAOU,YAAY;AAAA,EACtB;AAAA,EAMU,YAAY;AAAA,EACtB;AA0FD;AA7MA;AAAA,EADC,AAAC,GAAG,WAAW,EAAE;AAAA,GAClB;;;ADEW,IAAM,cAAc;AAAA,EACtB,SAAS;AAAA,EAEV,yBAAyB;AAG7B;",
  "names": []
}
